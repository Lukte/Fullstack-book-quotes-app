<!-- Books Component HTML -->
<div class="container-fluid books-container">
  <!-- Header Section -->
  <div class="header-section">
    <div class="header-content">
      <h1 class="page-title">
        <i class="fas fa-book"></i>
        My Books
      </h1>
      <p class="welcome-text">Welcome, {{ username }}!</p>
    </div>

    <!-- Navigation Buttons -->
    <div class="header-actions">
      <button class="theme-toggle" (click)="toggleTheme()" title="Change theme">
        <i class="fas" [ngClass]="isDarkMode ? 'fa-sun' : 'fa-moon'"></i>
      </button>
      <button class="btn btn-outline-primary me-2" (click)="goToQuotes()">
        <i class="fas fa-quote-left"></i>
        My Quotes
      </button>
      <button class="btn btn-outline-danger" (click)="logout()">
        <i class="fas fa-sign-out-alt"></i>
        Log out
      </button>
    </div>
  </div>

  <!-- Add New Book Button -->
  <div class="add-book-section">
    <button 
      class="btn btn-success btn-lg" 
      (click)="addBook()"
      [disabled]="isLoading">
      <i class="fas fa-plus-circle"></i>
     Add New Book
    </button>
  </div>

  <!-- Success Message -->
  <div class="alert alert-success alert-dismissible fade show" *ngIf="successMessage">
    <i class="fas fa-check-circle"></i>
    {{ successMessage }}
  </div>

  <!-- Error Message -->
  <div class="alert alert-danger alert-dismissible fade show" *ngIf="errorMessage">
    <i class="fas fa-exclamation-circle"></i>
    {{ errorMessage }}
  </div>

  <!-- Loading Spinner -->
  <div class="text-center my-5" *ngIf="isLoading">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Laddar...</span>
    </div>
    <p class="mt-3">Loading books...</p>
  </div>

  <!-- No Books Message -->
  <div class="no-books-message" *ngIf="!isLoading && books.length === 0">
    <div class="empty-state">
      <i class="fas fa-book-open fa-4x text-muted mb-3"></i>
      <h3>No books yet</h3>
      <p>Add your first favorite books to get started!</p>
      <button class="btn btn-primary" (click)="addBook()">
        <i class="fas fa-plus"></i>
        Add your first favorite book here
      </button>
    </div>
  </div>

  <!-- Books Grid -->
  <div class="books-grid" *ngIf="!isLoading && books.length > 0">
    <div class="book-card" *ngFor="let book of books">
      <div class="book-header">
        <i class="fas fa-book book-icon"></i>
        <h3 class="book-title">{{ book.title }}</h3>
      </div>
      
      <div class="book-body">
        <div class="book-info">
          <i class="fas fa-user"></i>
          <strong>Author:</strong>
          <p>{{ book.author }}</p>
        </div>
        
        <div class="book-info">
          <i class="fas fa-calendar"></i>
          <strong>Published:</strong>
          <p>{{ book.publicationDate | date: 'MMM d, yyyy' }}</p>
        </div>
      </div>

      <div class="book-footer">
        <button 
          class="btn btn-sm btn-outline-primary" 
          (click)="editBook(book._id!)"
          [disabled]="isLoading">
          <i class="fas fa-edit"></i>
          Edit
        </button>
        <button 
          class="btn btn-sm btn-outline-danger" 
          (click)="deleteBook(book)"
          [disabled]="isLoading">
          <i class="fas fa-trash-alt"></i>
          Delete
        </button>
      </div>
    </div>
  </div>
</div>